<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Select Your Team</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<h1>Select Your Favorite NBA Team</h1>
		<form action="/confirmation" method="GET">
			<select name="team" id="team-select">
				<!-- Options will be populated here -->
			</select>
			<button type="submit">Save</button>
		</form>
		<script>
			// Function to fetch the NBA schedule and populate the dropdown
			async function populateTeamDropdown() {
				console.log("In populateTeamDropdown()");
				try {
					console.log("In try statement");
					// Fetch the nba-schedule.json file
					const response = await fetch('data/nba-schedule.json');
					console.log("Response", response);
					const scheduleData = await response.json();

					// Get the team select dropdown element
					const teamSelect = document.getElementById('team-select');

					// Iterate over the teams in the JSON data
					for (const teamID in scheduleData) {
						const teamInfo = scheduleData[teamID];

						// Create an option element
						const option = document.createElement('option');
						option.value = teamID; // Team ID as the value
						option.textContent = `${teamInfo.teamCity} ${teamInfo.teamName}`; // City and Team Name as display text

						// Append the option to the select element
						teamSelect.appendChild(option);
					}
				} catch (error) {
					console.error('Error fetching NBA schedule:', error);
				}
			}

			// Populate the dropdown when the page loads
			window.onload = populateTeamDropdown;
		</script>
		<!-- <script src="team-picker.js"></script> -->
	</body>
</html>
